/* Variables para mantener consistencia en colores y medidas */
:root {
  --board-border: #000;
  --cell-border: #d6d6d6;
  --bg: #f8f9fa;
  --radius: 10px;
  --shadow: 0 2px 6px rgba(0, 0, 0, .08);
}

/* Reset básico */
* {
  box-sizing: border-box;
}

body {
  margin: 10px 10px;
  background-color: #4cb6ff; /* Ese azul clásico del Monopoly */
}

.page {
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: min(4vmin, 24px);
}

/* Layout principal - Jugadores a la izquierda, tablero a la derecha */
.contenedor-juego {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 40px;
  padding: 20px;
}

/* El tablero en sí - pensado como una cuadrícula 3x3 */
.board {
  width: 100%;
  height: 80vh;
  display: grid;
  background: #fff;
}

/* Las tres filas principales del tablero */
.row-top,
.row-bottom {
  display: grid;
  grid-template-columns: 1fr 7fr 1fr; /* esquina, 9 casillas, esquina */
}

.row-middle {
  display: grid;
  grid-template-columns: 1fr 7fr 1fr; /* lado izq, centro con logo, lado der */
  height: 100%;
}

/* Las 4 esquinas del tablero (Go, Jail, etc.) */
.corner {
  position: relative;
  border: 2px solid var(--board-border);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  background-size: cover;
  background-position: center;
  aspect-ratio: 1/1; /* Mantiene forma cuadrada */
  min-height: 12vmin;
}

/* Quitamos algunos bordes para que se vea como un tablero real */
.tl { border-right: none; } /* esquina superior izquierda */
.tr { border-left: none; }  /* esquina superior derecha */
.bl { border-right: none; } /* esquina inferior izquierda */
.br { border-left: none; }  /* esquina inferior derecha */

/* El texto que aparece en las esquinas */
.corner-label {
  background: rgba(255, 255, 255, .85);
  padding: .35rem .5rem;
  border-radius: 8px;
  font-weight: 800;
  line-height: 1.05;
  box-shadow: var(--shadow);
  font-size: clamp(.6rem, 1.4vmin, .95rem);
}

/* Imágenes de fondo para cada esquina */
.free-parking { background-image: url("../../assets/img/free.jpg"); }
.go-to-jail { background-image: url("../../assets/img/gotojail.avif"); }
.jail { background-image: url("../../assets/img/jail2.jpg"); }
.go { background-image: url("../../assets/img/go.jpg"); }

/* El centro del tablero donde va el logo */
.center {
  display: flex;
  align-items: center;
  justify-content: center;
  border: 3px solid var(--board-border);
  background: #fff;
}

.logo-center {
  max-width: 80%;
  max-height: 60%;
  object-fit: contain;
}

/* Los 4 lados del tablero que contienen las casillas */
.edge {
  display: flex;
  gap: 0;
}

.edge-top, .edge-bottom {
  flex-direction: row; /* casillas en fila horizontal */
}

.edge-left, .edge-right {
  flex-direction: column; /* casillas en columna vertical */
}

/* Cada casilla individual del tablero */
.cell {
  flex: 1 1 0;
  min-width: 0;
  border: 1px solid var(--cell-border);
  background: #fff;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: .35rem .3rem .4rem;
  position: relative;
  box-shadow: var(--shadow);
}

/* La banda de color en la parte superior de cada propiedad */
.band {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 20px;
  border-bottom: 1px solid rgba(0, 0, 0, .2);
  z-index: 1;
}

/* CORECCIÓN: Las bandas en columnas también son horizontales como en Monopoly real */
.edge-left .cell .band,
.edge-right .cell .band {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 20px;
  border-bottom: 1px solid rgba(0, 0, 0, .2);
  z-index: 1;
}

/* El nombre de la propiedad */
.label {
  margin-top: 18px;
  text-align: center;
  font-size: clamp(.9rem, 1.5vmin, .95rem);
  font-weight: 700;
  line-height: 1.1;
  word-break: break-word;
  font-family: 'Arial', sans-serif;
}

/* El precio de compra */
.price {
  display: block;
  margin-top: .15rem;
  font-size: clamp(.9rem, 2.2vmin, .75rem);
  font-weight: 800;
  color: #222;
}

/* Los colores de cada grupo de propiedades */
.cell.color-brown .band { background: #8B4513; }
.cell.color-light-blue .band { background: #4cb6ff; }
.cell.color-pink .band { background: #ff6aa6; }
.cell.color-orange .band { background: #ffa116; }
.cell.color-red .band { background: #e0352b; }
.cell.color-yellow .band { background: #ffd23c; }
.cell.color-green .band { background: #1aa05b; }
.cell.color-blue .band { background: #1d4ed8; }

/* Ajustes especiales para las casillas de los lados izquierdo y derecho */
.edge-left .cell,
.edge-right .cell {
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  text-align: center;
  padding: .5rem .3rem .45rem;
}

/* AJUSTE: Padding superior para evitar solapamiento con banda horizontal */
.edge-left .cell {
  padding-top: 25px; /* Deja espacio para la banda horizontal */
  padding-left: .3rem; /* Volver al padding original */
}

.edge-right .cell {
  padding-top: 25px; /* Deja espacio para la banda horizontal */
  padding-left: .3rem; /* Volver al padding original */
}

.edge-left .cell .label,
.edge-right .cell .label {
  writing-mode: horizontal-tb;
  margin-top: 16px;
  text-align: center;
  line-height: 1.05;
}

.edge-left .cell .price,
.edge-right .cell .price {
  writing-mode: horizontal-tb;
  text-align: center;
  position: absolute;
  top: -1px;
  left: 0; /* Volver a la posición original */
  right: 0;
  width: 100%; /* Volver al ancho completo */
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  color: #000;
  text-shadow: 1px 1px 2px rgba(255, 255, 255, .9);
  z-index: 2;
  font-family: 'Arial', sans-serif; 
}

/* Ajustes para los precios en las filas superior e inferior */
.edge-top .cell .price,
.edge-bottom .cell .price {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 17px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  color: #000;
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.9);
  z-index: 2;
  pointer-events: none;
  font-family: 'Arial', sans-serif;
}

/* Panel de jugadores a la izquierda */
.contenedor-perfiles {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.jugadores {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.perfil-jugador {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* .perfil-jugador img {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #333;
} */

.iconoPerfil {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #333;
}

.perfil-jugador label {
  margin-top: 10px;
  text-align: center;
  font-size: clamp(.7rem, 1.2vmin, .95rem);
  font-weight: 700;
  font-family: 'Montserrat', sans-serif;
}

/* Para pantallas pequeñas */
@media (max-width: 560px) {
  .band {
    height: 12px;
  }

  /* Ajuste de bandas verticales en móviles */
  .edge-left .cell .band,
  .edge-right .cell .band {
    width: 15px;
  }

  .edge-left .cell,
  .edge-right .cell {
    padding-left: 20px;
  }

  .edge-left .cell .price,
  .edge-right .cell .price {
    left: 17px;
    width: calc(100% - 17px);
  }

  .status {
    top: -9px;
  }

  .edge-left .cell,
  .edge-right .cell {
    padding: .45rem .25rem .4rem;
    padding-left: 20px; /* Mantener espacio para banda */
  }

  .edge-left .cell .label,
  .edge-right .cell .label {
    margin-top: 14px;
  }
}

.dice-area {
  margin-top: 20px; /* Espacio entre logo y dados */
  display: flex;
  gap: 20px; /*  Separación entre los dos dados */
  justify-content: center;
  align-items: center;
  flex-wrap: wrap; /*  Para que se adapten en pantallas pequeñas */
}

/* ESTILOS MEJORADOS PARA LAS FICHAS */
.ficha {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid #000;
  flex-shrink: 0;       /* evita que se achique/distorsione */
  aspect-ratio: 1 / 1;  /* fuerza relación 1:1 */
  margin: 2px;          /* Margen reducido */
  position: relative;
  z-index: 10;          /* Encima de todo */
}

/* Contenedor para las fichas */
.fichas-container {
  position: absolute;
  display: flex;
  flex-wrap: wrap;
  gap: 2px;
  z-index: 10;
  pointer-events: none; /* Las fichas no interfieren con clics */
}

/* Posicionamiento específico del contenedor de fichas por borde */
.edge-top .fichas-container {
  bottom: 5px;
  left: 5px;
  right: 5px;
}

.edge-bottom .fichas-container {
  top: 25px; /* Debajo de la banda */
  left: 5px;
  right: 5px;
}

.edge-left .fichas-container {
  top: 25px; /* Debajo de la banda horizontal */
  left: 5px;
  right: 5px;
}

.edge-right .fichas-container {
  top: 25px; /* Debajo de la banda horizontal */
  left: 5px;
  right: 5px;
}

/* Para las esquinas */
.corner .fichas-container {
  bottom: 10px;
  right: 10px;
}